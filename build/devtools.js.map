{"version":3,"sources":["../source/devtools.js"],"names":["devtools","parameters","chunks","style_url","styles","entry","common_style_url","common","get_style_link_element_script","url","script"],"mappings":";;;;;kBAqBwBA,Q;AArBxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASA,QAAT,CAAkBC,UAAlB,EACf;AACC,KAAMC,SAASD,WAAWC,MAAX,EAAf;;AAEA,KAAMC,YAAmBD,OAAOE,MAAP,CAAcH,WAAWI,KAAzB,CAAzB;AACA,KAAMC,mBAAmBJ,OAAOE,MAAP,CAAcG,MAAvC;;AAEA,KAAMC,gCAAgC,SAAhCA,6BAAgC;AAAA,2EAAsEC,GAAtE;AAAA,EAAtC;;AAEA,KAAMC,sXAYFP,YAAmB,yBAAyBK,8BAA8BL,SAA9B,CAA5C,GAAuF,EAZrF,kBAaFG,mBAAmB,yBAAyBE,8BAA8BF,gBAA9B,CAA5C,GAA8F,EAb5F,6YAAN;;AA2BA,QAAOI,MAAP;AACA","file":"devtools.js","sourcesContent":["// The following code is an advanced topic\r\n// and can be skipped safely.\r\n// This code is not required\r\n// for the whole thing to work.\r\n// It's gonna work fine without this code.\r\n//\r\n// (in development mode)\r\n//\r\n// Removing the now unnecessary `<link rel=\"stylesheet\"/>` tag,\r\n// because the client-side javascript has already kicked-in\r\n// and added all the styles using `style-loader` dynamically.\r\n//\r\n// Should that stylesheet be removed at all?\r\n// Not necessarily.\r\n// It's just, for example, if a developer opens the page,\r\n// then decides to remove some CSS class,\r\n// and switches back to the browser,\r\n// and the CSS class is still there,\r\n// because it was only removed from dynamically added CSS styles,\r\n// not the statically added ones on the server-side.\r\n//\r\nexport default function devtools(parameters)\r\n{\r\n\tconst chunks = parameters.chunks()\r\n\t\r\n\tconst style_url        = chunks.styles[parameters.entry]\r\n\tconst common_style_url = chunks.styles.common\r\n\r\n\tconst get_style_link_element_script = url => `document.querySelector('head > link[rel=\"stylesheet\"][href=\"${url}\"]')`\r\n\r\n\tconst script =\r\n\t`\r\n\t\tdocument.addEventListener('DOMContentLoaded', function(event)\r\n\t\t{\r\n\t\t\t// The style-loader has already added <link/>s \r\n\t\t\t// to its dynamic hot-reloadable styles,\r\n\t\t\t// so remove the <link/> to the static CSS bundle\r\n\t\t\t// inserted during server side page rendering.\r\n\t\t\t\r\n\t\t\tvar stylesheet\r\n\t\t\tvar common_stylesheet\r\n\r\n\t\t\t${style_url        ? 'stylesheet        = ' + get_style_link_element_script(style_url) : ''}\r\n\t\t\t${common_style_url ? 'common_stylesheet = ' + get_style_link_element_script(common_style_url) : ''}\r\n\r\n\t\t\t// Waits a \"magical\" time amount of one second\r\n\t\t\t// for the dynamically added stylesheets\r\n\t\t\t// to be parsed and applied to the page.\r\n\t\t\tsetTimeout(function()\r\n\t\t\t{\r\n\t\t\t\tstylesheet        && stylesheet.parentNode.removeChild(stylesheet)\r\n\t\t\t\tcommon_stylesheet && common_stylesheet.parentNode.removeChild(common_stylesheet)\r\n\t\t\t},\r\n\t\t\t1000)\r\n\t\t})\r\n\t`\r\n\r\n\treturn script\r\n}"]}