{"version":3,"sources":["../source/devtools.js"],"names":["devtools","parameters","chunks","style_url","styles","entry","common_style_url","common","get_style_link_element_script","url","script"],"mappings":";;;;;kBAqBwBA,Q;AArBxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASA,QAAT,CAAkBC,UAAlB,EACf;AACC,KAAMC,SAASD,WAAWC,MAAX,EAAf;;AAEA,KAAMC,YAAmBD,OAAOE,MAAP,CAAcH,WAAWI,KAAzB,CAAzB;AACA,KAAMC,mBAAmBJ,OAAOE,MAAP,CAAcG,MAAvC;;AAEA,KAAMC,gCAAgC,SAAhCA,6BAAgC;AAAA,2EAAsEC,GAAtE;AAAA,EAAtC;;AAEA,KAAMC,sXAYFP,YAAmB,yBAAyBK,8BAA8BL,SAA9B,CAA5C,GAAuF,EAZrF,kBAaFG,mBAAmB,yBAAyBE,8BAA8BF,gBAA9B,CAA5C,GAA8F,EAb5F,6YAAN;;AA2BA,QAAOI,MAAP;AACA","file":"devtools.js","sourcesContent":["// The following code is an advanced topic\n// and can be skipped safely.\n// This code is not required\n// for the whole thing to work.\n// It's gonna work fine without this code.\n//\n// (in development mode)\n//\n// Removing the now unnecessary `<link rel=\"stylesheet\"/>` tag,\n// because the client-side javascript has already kicked-in\n// and added all the styles using `style-loader` dynamically.\n//\n// Should that stylesheet be removed at all?\n// Not necessarily.\n// It's just, for example, if a developer opens the page,\n// then decides to remove some CSS class,\n// and switches back to the browser,\n// and the CSS class is still there,\n// because it was only removed from dynamically added CSS styles,\n// not the statically added ones on the server-side.\n//\nexport default function devtools(parameters)\n{\n\tconst chunks = parameters.chunks()\n\t\n\tconst style_url        = chunks.styles[parameters.entry]\n\tconst common_style_url = chunks.styles.common\n\n\tconst get_style_link_element_script = url => `document.querySelector('head > link[rel=\"stylesheet\"][href=\"${url}\"]')`\n\n\tconst script =\n\t`\n\t\tdocument.addEventListener('DOMContentLoaded', function(event)\n\t\t{\n\t\t\t// The style-loader has already added <link/>s \n\t\t\t// to its dynamic hot-reloadable styles,\n\t\t\t// so remove the <link/> to the static CSS bundle\n\t\t\t// inserted during server side page rendering.\n\t\t\t\n\t\t\tvar stylesheet\n\t\t\tvar common_stylesheet\n\n\t\t\t${style_url        ? 'stylesheet        = ' + get_style_link_element_script(style_url) : ''}\n\t\t\t${common_style_url ? 'common_stylesheet = ' + get_style_link_element_script(common_style_url) : ''}\n\n\t\t\t// Waits a \"magical\" time amount of one second\n\t\t\t// for the dynamically added stylesheets\n\t\t\t// to be parsed and applied to the page.\n\t\t\tsetTimeout(function()\n\t\t\t{\n\t\t\t\tstylesheet        && stylesheet.parentNode.removeChild(stylesheet)\n\t\t\t\tcommon_stylesheet && common_stylesheet.parentNode.removeChild(common_stylesheet)\n\t\t\t},\n\t\t\t1000)\n\t\t})\n\t`\n\n\treturn script\n}"]}